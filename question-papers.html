<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Papers - Sarvasva Notes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>Sarvasva Notes</span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="exam-preparation.html" class="active"><i class="fas fa-fire"></i> Exam Prep</a></li>
                    <li><a href="https://wa.me/917985040858" target="_blank"><i class="fab fa-whatsapp"></i> Contact</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">

        <div class="mb-2">
            <a href="exam-preparation.html" class="btn btn-secondary btn-back-secondary"><i
                    class="fas fa-arrow-left"></i> Back to Subjects</a>
        </div>

        <div class="hero hero-blue-gradient">
            <div>
                <h1 class="hero-title"><i class="fas fa-file-alt"></i> Question Papers</h1>
                <p class="hero-subtitle" id="subjectTitle">Loading Subject...</p>
            </div>
            <i class="fas fa-file-signature" class="hero-icon-bg"></i>
        </div>

        <div class="grid" id="papersGrid">
            <!-- Papers will be loaded here -->
        </div>

        <div id="noPapers" style="display: none;" class="no-papers-msg">
            <div class="icon-large-muted"><i class="fas fa-folder-open"></i></div>
            <h3>No papers available yet</h3>
            <p class="text-muted">Check back later or contact us on WhatsApp.</p>
        </div>

    </div>

    <footer class="mt-auto">
        <p>Â© 2026 Sarvasva Notes. All Rights Reserved.</p>
    </footer>

    <script>
        const subjectData = {
            'computer-graphics': {
                title: 'Computer Graphics & Multimedia',
                papers: [
                    { year: 'Mock Test', session: 'High Priority', duration: '3 Hours', marks: '100', questions: 100, subjectOverride: 'computer-graphics-mock' },
                    { year: '2022', session: 'July', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022-23', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2023', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024-25', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024', session: '2nd Paper', duration: '3 Hours', marks: '70', questions: 100 }
                ]
            },
            'dbms': {
                title: 'Database Management System',
                papers: [
                    { year: '2024', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022-23', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 }
                ]
            },
            'software-engineering': {
                title: 'Software Engineering',
                papers: [
                    { year: '2024-25', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022-23', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022', session: 'July', duration: '3 Hours', marks: '70', questions: 100 }
                ]
            },
            'operations-research': {
                title: 'Operations Research',
                papers: [
                    { year: '2024-25', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024', session: '2nd Paper', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2023', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022-23', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022', session: 'July', duration: '3 Hours', marks: '70', questions: 100 }
                ]
            },
            'mathematics': {
                title: 'Mathematics IV',
                papers: [
                    { year: '2024-25', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2024', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022-23', session: 'Annual', duration: '3 Hours', marks: '70', questions: 100 },
                    { year: '2022', session: 'July', duration: '3 Hours', marks: '70', questions: 100 }
                ]
            }
        };
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        function loadPapers() {
            const subject = getUrlParameter('subject');
            const subjectTitle = document.getElementById('subjectTitle');
            const papersGrid = document.getElementById('papersGrid');
            const noPapers = document.getElementById('noPapers');

            // Default to computer-graphics for demo if no param
            const currentSubject = subjectData[subject] ? subject : null;

            if (currentSubject && subjectData[currentSubject]) {
                const data = subjectData[currentSubject];
                subjectTitle.textContent = data.title;

                if (data.papers.length > 0) {
                    papersGrid.innerHTML = '';
                    noPapers.style.display = 'none';

                    data.papers.forEach((paper) => {
                        const paperCard = document.createElement('div');
                        paperCard.className = 'card card-paper-item';

                        // Use override if present, otherwise default subject
                        const testSubject = paper.subjectOverride || currentSubject;

                        paperCard.innerHTML = `
                            <div class="card-header">
                                <span class="badge badge-paper-year">${paper.year}</span>
                                <span class="text-muted font-600 font-sm">${paper.session}</span>
                            </div>
                            
                            <div class="paper-meta">
                                <span><i class="fas fa-clock"></i> ${paper.duration}</span>
                                <span><i class="fas fa-star"></i> ${paper.marks} Marks</span>
                            </div>

                            <button class="btn btn-primary paper-action-btn" onclick="startTest('${testSubject}', '${paper.year}', '${paper.session}', ${paper.questions})" ${paper.questions === 0 ? 'disabled' : ''}>
                                ${paper.questions === 0 ? 'Coming Soon' : `<i class="fas fa-play"></i> Start Test (${paper.questions} Qs)`}
                            </button>
                        `;
                        papersGrid.appendChild(paperCard);
                    });
                } else {
                    papersGrid.innerHTML = '';
                    noPapers.style.display = 'block';
                }

            } else {
                subjectTitle.textContent = 'Subject Not Found';
                noPapers.style.display = 'block';
                noPapers.querySelector('h3').textContent = 'Invalid Subject Selected';
            }
        }

        function startTest(subject, year, session, questionCount) {
            if (questionCount === 0) {
                alert('Question paper coming soon!');
                return;
            }

            // Handle mock test specially
            if (year === 'Mock Test') {
                window.location.href = 'mock-test.html';
                return;
            }

            window.location.href = `mcq-test.html?subject=${subject}&year=${year}&session=${session}&questions=${questionCount}`;
        }

        document.addEventListener('DOMContentLoaded', loadPapers);
    </script>
    <script src="theme.js"></script>
</body>

</html>